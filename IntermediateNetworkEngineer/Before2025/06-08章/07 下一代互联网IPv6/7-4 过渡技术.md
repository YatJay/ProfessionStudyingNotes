# 7-4 IPv4到IPv6的过渡技术(偶尔考)

## 三种过渡技术简介

**隧道技术**：解决**IPv6节点之间**通过**IPv4网络**进行通信，或者**IPv4节点之间**通过**IPv6网络**进行通信

**双栈技术**：**同时运行**IPv4和IPv6，网络升级中使用最多，安全保险

**翻译技术**：解决**纯lPv6**节点与**纯lPv4**节点之间通进行通信

## 隧道技术

![image-20230315230249192](https://img.yatjay.top/md/image-20230315230249192.png)



![image-20230315230421042](https://img.yatjay.top/md/image-20230315230421042.png)

**常用3种自动隧道技术：**

- 6to4：6over4隧道技术没有实际应用

- 6over4：

- ISATAP：现在最常用的隧道技术是**ISATAP隧道技术**

  - 这是一种自动隧道技术


  - 可以穿透NAT设备，与私网之外的主机建立IPv6连接


## 双栈技术

无

## 翻译技术

NAT-PT (Network Address Trannslation-Protocol Translator)是一种协议转换技术，可以实现IPv6到IPv4或者IPv4到IPv6的转换，**实现纯IPv6节点与纯IPv4节点间的通信**

- 静态NAT-PT   1:1  即一对一映射

- 动态NAT-PT   M:N  即多对多映射

- 基于端口NAPT-PT M:1  知道这是IPv6的一个地址翻译技术即可(注意NAPT是端口映射转换，NAPT-PT是一种地址翻译技术)

  ![image-20230315230929081](https://img.yatjay.top/md/image-20230315230929081.png)

## 例题

![image-20230315230943109](https://img.yatjay.top/md/image-20230315230943109.png)

解析：常用3种自动隧道技术：6to4、6over4、ISATAP

![image-20230315231159565](https://img.yatjay.top/md/image-20230315231159565.png)

解析：

- 两边是IPv6，中间是IPv4网络，通信需要使用*隧道技术*

- 纯IPv6与纯IPv4结点通信，需要使用*翻译技术*

![image-20230315231306120](https://img.yatjay.top/md/image-20230315231306120.png)

# 章节总结

- IPv6地址基础
  - 报文格式：每个字段作用  40字节、8个字段
  - 地址格式：128位，冒号十六进制法，简写`∶`，每字段中**靠前的**无效零位可以省略，连续一段或多段零可用`::`代替，但`::`只能出现一次
  - 地址分类：单播/组播/任意播；单播三类：一聚二恋三占有
- 过渡技术
  - **隧道技术：解决IPv6节点之间通过IPv4网络进行通信**
  - **双栈技术∶同时运行IPv4和IPv6**
  - **翻译技术：解决纯IPv6节点与纯IPv4节点之间通进行通信**