## 2-5 数据编码

### 曼彻斯特编码和差分曼彻斯特编码

#### 曼彻斯特编码

曼彻斯特编码是一种双相码，常用于<font color="red">以太网</font>中。[以太网指的是传统的10M速率的以太网，100M以太网称为快速以太网，1000M以太网称为Gbit以太网]

在每个比特中间均有一个跳变，<font color="red">第一个编码自定义</font>，假如下图

- 由高电平向低电平跳变代表“0”
- 由低电平向高电平跳变代表”1”

![image-20250220193637469](https://img.yatjay.top/md/20250220193637510.png)

#### 差分曼彻斯特编码

差分曼彻斯特编码也是一种双相码，用在<font color="red">令牌环网</font>中。

在每个比特中间均有一个跳变，其编码规则为<font color="red">【有0无1】</font>

- 有跳变代表“0”

- 无跳变代表“1”

<font color="red">不是比较形状，比较起始电平 (上一个的终止与下一个起点)</font>

![image-20250220194111200](https://img.yatjay.top/md/20250220194111230.png)

![image-20230817223529473](https://img.yatjay.top/md/image-20230817223529473.png)

这是差分曼彻斯特编码。如图所示，在每个码原时间的中间时刻，信号都会发生跳变。

与曼彻斯特编码不同，跳变仅表示时钟，而用**码元开始处**电平是否发生变化来表示数据

#### 两种曼彻斯特编码特点

- 曼码和差分曼码是典型的双相码，双相码要求每一位都有一个电平转换，，**一高一低，必须翻转**。
- 曼码和差分曼码具有**自定时和检测错误**的功能。
- 两种曼彻斯特编码优点：将**时钟和数据包含在信号数据流**中，也称**自同步码**
- 编码效率低：**编码效率都是50%**，一般只用于最早的10M以太网编码。
- <font color="red">**两种曼码数据速率是码元速率的一半**</font>，这是因为每个码元都要调制为两个不同的电平(两个电平才表示一个码元)，因此调制速率是码元速率的两倍，这对信道的带宽提出了更高的要求，例如当数据传输速率为100Mbps时，码元速率为200Mbaud，即需要200MHz的脉冲

#### 例题

##### 例题1

![image-20250220195616014](https://img.yatjay.top/md/20250220195616051.png)

##### 例题2

![image-20250220195628464](https://img.yatjay.top/md/20250220195628499.png)

### 其他编码

4B/5B：发送数据流每4bit，先转换成5bit，再转换为<font color="red">不归零码（NRZ-I）</font>，多1位用于解决同步问题。

### 各种编码效率及应用场景

| 编码方式                                | 编码效率                     | 应用场景                            |
| --------------------------------------- | ---------------------------- | ----------------------------------- |
| **曼彻斯特编码**                        | 50%                          | 以太网                              |
| <font color="red">**4B/5B编码**</font>  | <font color="red">80%</font> | <font color="red">百兆以太网</font> |
| <font color="red">**8B/10B编码**</font> | <font color="red">80%</font> | <font color="red">千兆以太网</font> |
| **64B/66B编码**                         | 97%                          | 万兆以太网                          |

![image-20250220195754388](https://img.yatjay.top/md/20250220195754425.png)

### 例题

#### 例题1

![image-20250220200034886](https://img.yatjay.top/md/20250220200034925.png)

#### 例题2

![image-20250220200136606](https://img.yatjay.top/md/20250220200136647.png)

解析：

- 根据”有0无1“规则，从第2为开始应为101可以直接确定答案。
- 若需确定第1位：
  - 根据”有0无1“规则，第2位为1，则曼彻斯特编码第2位波形表示1
  - 曼彻斯特编码看形状即可，可以确定第1位波形表示的是0
- 从第1位开始前4位表示0101

扩展：通过差分曼彻斯特编码可以推出第2位到最后一位，根据曼彻斯特编码可以推出第1位。如下图示例![image-20250220201328761](https://img.yatjay.top/md/20250220201328813.png)

#### 例题3

![image-20250220200148375](https://img.yatjay.top/md/20250220200148414.png)

解析：根据”有0无1“规则，从第2为开始应为1001

#### 例题4

![image-20250220200204123](https://img.yatjay.top/md/20250220200204154.png)

解析：曼彻斯特编码用于10M以太网，差分曼彻斯特编码用于令牌环网。

引申：10BASE－T是双绞线以太网，1990年由IEEE新认可的，编号为IEEE802.3i，T表示采用双绞线，现10BASE－T 采用的是非屏蔽双绞线（UTP）。

- [以太网标准详解：从10BASE-T到1000BASE-X的演进](https://cloud.baidu.com/article/3320926)
- [10Base-T 与 100Base-TX 的区别](https://blog.csdn.net/sinat_36192944/article/details/81028219)