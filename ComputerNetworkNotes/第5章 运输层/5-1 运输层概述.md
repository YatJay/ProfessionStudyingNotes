# 5-1 运输层概述

## 运输层概述

之前课程所介绍的计算机网络体系结构中的物理层、数据链路层以及网络层，他们共同解决了将主机通过异构网络互联起来所面临的问题，实现了**主机到主机**的通信。

如图所示，局域网 1 上的主机与局域网 2 上的主机通过互联的广域网进行通信，网络层的作用范围是主机到主机，但实际上，在计算机网络中进行**通信的真正实体是位于通信两端主机中的进程**。

![image-20230406200605703](https://img.yatjay.top/md/image-20230406200605703.png)

例如， AP1 和 AP2 是局域网 1 上这台主机中的与网络通信相关的两个应用进程， AP3 和 AP4 是局域网 2 上这台主机中的与网络通信相关的两个应用进程。AP 是应用进程的英文缩写词。

![image-20230406200646711](https://img.yatjay.top/md/image-20230406200646711.png)

如何**为运行在不同主题上的应用进程提供直接的通信服务**，是运输层的任务，运输层协议又称为**端到端协议**。

如图所示，运输层的作用范围是应用进程到应用进程，也称为端到端。

![image-20230406200833348](https://img.yatjay.top/md/image-20230406200833348.png)

接下来我们从计算机网络体系结构的角度来看运输层，这是通信双方应用层中的应用进程。

![image-20230406201146700](https://img.yatjay.top/md/image-20230406201146700.png)

假设 AP1 与 AP4 之间进行基于网络的通信， AP2 与 AP3 之间进行基于网络的通信。在运输层使用不同的端口来对应不同的应用进程，然后通过网络层及其下层来传输应用层报文。如图所示，接收方的运输层通过不同的端口将收到的应用层报文交付给应用层中相应的应用进程。

需要注意的是，这里的端口并不是指看得见摸得着的物理端口，而是指**用来区分不同应用进程的标识符**。为了简单起见，在学习和研究运输层时，我们可以简单的认为**运输层直接为应用进程间的逻辑通信提供服务**。逻辑通信的意思是，运输层之间的通信好像是沿水平方向传送数据，但事实上，这两个运输层之间并没有一条水平方向的物理连接，要传送的数据是沿着图中**上下多次的虚线方向**传送的。

运输层向高层用户屏蔽了下面网络核心的细节，如网络拓扑、所采用的路由选择协议等，它使应用层看见的就**好像是在两个运输层实体之间有一条端到端的逻辑通信道**。

根据应用需求的不同，**因特网的运输层**为应用层提供了两种不同的运输层协议，即**面向连接的 TCP** 和**无连接的UDP**。这两种协议就是本章要讨论的主要内容。

## 本节小结

![image-20230406201422104](https://img.yatjay.top/md/image-20230406201422104.png)