# 1-5 总线和总线速率计算

## 总线简介

总线是一种内部结构，它是CPU、内存、输入/输出设备传递信息的共用通道，主机的各部件通过总线互相连接，外部设备通过相应的接口电路与总线相连接，从而形成了计算机硬件系统。

系统总线包含三种不同功能的总线，即数据总线（DB）、地址总线（AB）和控制总线（CB）

- 数据总线（Data Bus，DB）：用于传递数据信息
- 地址总线（Address Bus，AB）：专门用来传送地址（地址总线位数决定内存大小如32位最大4G）
- 控制总线（Control Bus，CB）：用来传送控制信号和时序信号

![image-20240328223724337](https://img.yatjay.top/md/image-20240328223724337.png)

## CPU特性

指令周期：取出并执行一条指令所需的时间，也叫机器周期。（取指、分析、执行）

总线周期：指CPU从存储器或I/O端口进行一次访问（存取一个字节）所需的时间，也称为主振周期。

时钟周期：也称为振荡周期，是计算机中最基本的、最小的时间单位。定义为时钟脉冲的倒数。（i5 2.9GHz则时钟周期就为 1/2.9Ghz ）

它们之间的关系：**一个指令周期可以划分为一个或多个总线周期，根据指令的不同需要的总线周期也不同；而一个总线周期又可分为几个时钟周期，通常是4个时钟周期，有些计算机可能不同。**

## 计算总线数据传输速率

总线传输速率计算公式如下：(记住下面公式)
$$
总线数据传输率= \frac{1}{{每个总线周期包含的时钟周期} * {时钟周期} }* 每个总线周期传送的字节数 

                        \\ = \frac{时钟频率}{每个总线周期包含的时钟周期} * 每个总线周期传送的字节数
$$
例如：某系统总线的一个总线周期包含3个时钟周期，每个总线周期中可以传送32位数据。若总线的时钟频率为33MHz，则总线的带宽（即传输速度）应该是多少？

- 方法1：根据上述公式得出：33MHz/3×32b=11M×32b=44MB/s

- 方法2：**速度=传输数据总量/传输花的时间**

  - =32bit/(3\*1/33MHz)

  - =32\*11Mbit/s

  - =44MB/S

## 例题

![image-20240328224536817](https://img.yatjay.top/md/image-20240328224536817.png)

解析：按照上述2种方法理解求解

![image-20240328224551988](https://img.yatjay.top/md/image-20240328224551988.png)

解析：选择C选项

- A：总线型结构，相比于两两自行交互，反而是降低了传输速度
- B：总线型结构，相比于两两自行交互，反而是降低了传输量
- C：总线型结构，相比于两两自行交互，减少了信息传输线的数量，正确
- D：总线型结构，与指令系统的复杂度无关