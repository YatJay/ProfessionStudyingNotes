# Web架构&前后端分离站&Docker容器站&集成软件站&建站分配



## 知识点：

1、Web常规-系统&中间件&数据库&源码等

2、Web其他-前后端&软件&Docker&分配站等

3、Web拓展-CDN&WAF&OSS&静态&负载均衡等

 

## 章节点

应用架构：Web/APP/云应用/三方服务/负载均衡等

安全产品：CDN/WAF/IDS/IPS/蜜罐/防火墙/杀毒等

渗透命令：文件上传下载/端口服务/Shell反弹等

抓包技术：HTTP/TCP/UDP/ICMP/DNS/封包/代理等

算法加密：数据编码/密码算法/密码保护/反编译/加壳等





## 演示案例

Web架构-常规化&站库分离&前后端分离

Web架构-集成软件&Docker容器&分配站





### 常规化

原理：源码数据都在同服务器

影响：无，常规安全测试手法

 

### 站库分离

原理：源码和数据库不在同服务器

存储：其他服务器上数据库&云数据库产品

影响：数据被单独存放，能连接才可影响数据

 

### 前后端分离

原理：前端JS框架，通过API向后端传输数据。一般表现为前端页面较为简洁，没有多余页面如[RXThinkCMF](https://www.rxthink.cn/)

影响：

1、前端页面JS+HTML语言写的，大部分不存在漏洞，知名的JS框架如VUE

2、前端页面和后端管理界面大部分不在同域名，如前端页面在https://www.rxthink.cn/，后端页面在https://manage.nihao.cn

3、获得权限有可能不影响后端，若前后端站点分别为两个域名，上传木马在前端站点，管理权限在后端站点，获得前端权限并不影响后端

 

### 宝塔+Phpstudy

原理：打包类集成化环境，权限配置或受控制

影响：攻击者权限对比区别

- 常规搭建：开发者自行一步步搭建系统、中间件、数据库、源码，上传木马并连接之后，一般能够直接getshell，命令可以直接执行

- 集成搭建：集成化环境搭建，集成环境的权限配置较为严格

  - 宝塔
    - 命令执行无法执行：上传后门连接之后，可能无法执行命令
    
      ![image-20250714212810623](https://img.yatjay.top/md/20250714212810664.png)
    
    - 文件管理锁定目录：查看上传目录外的其他目录时，可能无权限查看
    
      ![image-20250714212613545](https://img.yatjay.top/md/20250714212613585.png)

  - phpstudy：

    连接后门执行whomi获取用户权限-administrator

    ```
    izsjxymy4bzovoz\administrator  # 这是因为安装phpstudy时使用了admin权限执行，获取到的用户权限就是administrator
    ```

  - IIS直接搭建：连接后门之后，部分命令可以直接执行，可以正常查看目录

    ![image-20250714214700155](https://img.yatjay.top/md/20250714214700194.png)

### Docker容器

原理：虚拟化技术独立磁盘空间，非真实物理环境。别人将网站环境封装好一个现成的镜像，拉取镜像即可直接搭建

影响：攻击者攻击的是虚拟空间磁盘，上传的后门实际上在Docker镜像的虚拟目录下，并不在该Docker所在的真实物理机操作系统上。只入侵了docker，没有入侵服务器，可以利用Docker逃逸技术深入到宿主机里面去

> 

### 建站分配站

1.托管：利用建站平台，平台为你分配网址，将自建站点托管在该平台上，如[凡科建站](https://jz.fkw.com/)

2.申请

原理：利用别人域名模版建立

影响：实质安全测试非目标资产，攻击的是建站平台

### 静态Web

例子：大学学的html设计的网站，一般

原理：数据没有传输性（js传输不算）

影响：无漏洞

 

### 伪静态

动态转为静态技术，伪装的静态