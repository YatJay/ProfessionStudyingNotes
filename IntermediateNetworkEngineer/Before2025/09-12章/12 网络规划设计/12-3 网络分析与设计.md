# 12-3 网络分析与设计

## 五阶段周期模型——瀑布模型，五阶段考的最多

五阶段周期模型是一个瀑布模型，只需根据瀑布一步一步进行即可。五阶段模型考察最多

![image-20230314214418854](https://img.yatjay.top/md/image-20230314214418854.png)

1. **需求规范**：即需求分析
2. **通信规范**：根据通信流量分析，估算网络流量及设备利用率
3. **逻辑网络设计**：绘制网络拓扑图、IP地址规划、VLAN规划、安全管理规划(网络是否分成几个区，各区之间是否安装防火墙等)等
4. **物理网络设计**：包括综合布线等物理网络设计，考虑网线、光纤、配线架等
5. **实施阶段**：

详细五阶段网络开发过程见下图所示

### 五阶段网络开发过程

![image-20230314233258884](https://img.yatjay.top/md/image-20230314233258884.png)

## 六阶段周期模型——圆形的循环往复模型

六阶段模型为循环，做完之后仍需要进行不断优化，图见上

## 网络流量分析

![image-20230314233903092](https://img.yatjay.top/md/image-20230314233903092.png)

初步的网络流量分析↓

早期内部网络访问互联网较少，遵循80/20原则；目前访问互联网流量已经很大，遵循20/80原则。

80/20原则：内部流量占到80%，外部流量占到20%，如上图1所示，说明网络中内部流量占比较大；

20/80原则：内部流量占到20%，外部流量占到80%，如上图2所示，说明网络中外部流量占比较大，目前此类网络居多。

## 例题

![image-20230314234207846](https://img.yatjay.top/md/image-20230314234207846.png)

![image-20230314234217589](https://img.yatjay.top/md/image-20230314234217589.png)

## 网络安全技术措施表(老三级等保要求)

![image-20230314234300098](https://img.yatjay.top/md/image-20230314234300098.png)

注意：标红项目的归类，数据库安全归到应用安全，漏洞发现和补丁管理归到系统安全

## 例题

![image-20230314234626126](https://img.yatjay.top/md/image-20230314234626126.png)

解析：注意B和b进制转换乘8

![image-20230314234710454](https://img.yatjay.top/md/image-20230314234710454.png)

解析：**80/20**分别是**内网/外网**流量

## 技术评价

在进行网络技术选择时，应当考虑：通信带宽、技术成熟性、连接服务类型、可扩展性、高投资产出比等因素

对于大型网络工程来说，**项目本身不能成为新技术的试验田**。应当尽量使用较成熟、拥有较多案例的技术。

## 例题

![image-20230314234900467](https://img.yatjay.top/md/image-20230314234900467.png)

# 网络结构与功能

## 局域网结构类型

### 简易的网络架构

小规模——简易网络架构：交换机一面直接连接客户端，另一面直接接出口路由器，出口路由器可以连接到各个运营商

![image-20230315201711740](https://img.yatjay.top/md/image-20230315201711740.png)

### 多层网络架构

大规模——多层网络架构：接入交换机连接用户客户端，网上接汇聚交换机，再往上接核心交换机，核心交换机再接出口路由器访问公网

出口为何要必须用路由器？——因为一般只有路由器支持NAT(部分防火墙也支持，但建议各司其职)，绝大多数二层交换机不支持NAT网络地址转换

![image-20230315201819752](https://img.yatjay.top/md/image-20230315201819752.png)

### 单核心局域网结构

如果核心交换机挂掉，则网络瘫痪![image-20230315202231752](https://img.yatjay.top/md/image-20230315202231752.png)



### 双核心局域网结构(一般用此架构)

双核心设备冗余进而能够提供接入链路冗余

目前大型网络都使用双核心交换机，从而接入交换机能够双上行，一台核心交换机或一条链路故障也不会影响通信

![image-20230315202336799](https://img.yatjay.top/md/image-20230315202336799.png)

## 三层架构(重点，各个层次功能)

| 交换机     | 位置                     | 功能                              |
| ---------- | ------------------------ | --------------------------------- |
| 接入交换机 | 一般放在楼层             | 用户接入、安全控制(认证)          |
| 汇聚交换机 | 一般一栋楼放一到两台     | 策略和路由控制(访问策略控制如ACL) |
| 核心交换机 | 一般放在信息中心核心机房 | 高性能、快速转发                  |



![image-20230314235214147](https://img.yatjay.top/md/image-20230314235214147.png)

## 例题

![image-20230314235233619](https://img.yatjay.top/md/image-20230314235233619.png)

![image-20230314235248760](https://img.yatjay.top/md/image-20230314235248760.png)

解析：

A：核心层只做转发，提高效率，不必压缩

B：访问控制在汇聚层做，核心层只需做到高速转发，正确

C：可以用但是不建议

D：核心交换机有必要做冗余形成双链路

![image-20230315203041101](https://img.yatjay.top/md/image-20230315203041101.png)

解析：

A：VRRP网关冗余，可以把两台交换机虚拟成一台

B：**VLAN之间的访问需要经过三层访问，即需要经过三层交换机或者路由器，核心交换机一般为三层交换机**

C：**接入交换机大多数采用二层交换机**

D：双核心交换机，是可靠的