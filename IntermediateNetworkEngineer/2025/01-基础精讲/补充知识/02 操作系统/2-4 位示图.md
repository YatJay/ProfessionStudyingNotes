## 2-4 位示图

### 文件存储空间管理

在计算机存储空间管理中，一般有三种方法位图法、链接法、索引法

磁盘空闲块管理方法对比表

| **管理方法** | **说明**                                                     | **特点**                                                     |
| :----------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **位图法**   | 用一个二进制向量描述整个磁盘，每一位（bit）表示一个物理块的状态（0=空闲，1=占用）。 | 1. 易于快速寻找连续空闲块； 2. 适用于所有文件分配方法； 3. 占用空间小，可常驻内存。 |
| **链接法**   | 使用链表将空闲块组织起来，通过指针连接每个空闲块。           | 1. 实现简单； 2. 适用于所有文件分配方法； 3. 但查找连续空闲块效率较低。 |
| **索引法**   | 将空闲块组织成一个“文件”，并采用索引表（如多级索引）管理。   | 1. 支持高效随机访问空闲块； 2. 适用于所有文件分配方法； 3. 索引表可能占用较多存储空间。 |

#### 位示图原理

如下图所示

- 位示图是一个二进制位（bit）数组，每个bit对应磁盘的一个物理块，：
  - **0**：表示对应块为空闲状态。
  - **1**：表示对应块已被占用。
- 例如：磁盘有1000个块，位示图仅需125字节（1000 bits ≈ 125 Bytes）。

![image-20250416204739792](https://img.yatjay.top/md/20250416204739846.png)

### 计算机的“字”

计算机中的“字”是数据处理和运算的基本单位，其大小由计算机的**字长**决定。字长是指一个“字”中包含的位数（bit），不同档次的计算机有不同的字长。以下是关于“字”的计算方法及相关概念的详细说明：

#### 字长与字的关系

- **字长**：指一个“字”中包含的二进制位数。例如：
  - 在8位机中，1个字等于1个字节（8位），字长为8位。
  - 在16位机中，1个字等于2个字节（16位），字长为16位。
  - 在32位或64位系统中，字长分别为32位和64位。

- 字的大小直接反映了计算机的计算精度和性能。字长越长，计算机一次能处理的数据量越大，性能也越优越。

####  字与字节的关系

- 1个字节（Byte）等于8位（bit）。
- 字由若干个字节组成，具体数量取决于计算机的字长。例如：
  - 如果字长为16位，则1个字 = 2个字节。
  - 如果字长为32位，则1个字 = 4个字节。
  - 如果字长为64位，则1个字 = 8个字节。

#### 字的计算

在实际计算中，字的大小可以通过以下公式得出：
- **字的位数 = 字长**
- **字的字节数 = 字长 ÷ 8**

例如：
- 对于一台32位计算机：
  - 字长 = 32位
  - 字的字节数 = 32 ÷ 8 = 4字节
- 对于一台64位计算机：
  - 字长 = 64位
  - 字的字节数 = 64 ÷ 8 = 8字节

### 例题

#### 例题1

![image-20250416204513764](https://img.yatjay.top/md/20250416204513794.png)

解析：300\*1024MB/（1MB\*32）=9600

#### 例题2

![image-20250416204526100](https://img.yatjay.top/md/20250416204526126.png)

解析：300DPI表示**1英寸**(不是平方英寸)包含300个像素点位。

纵向：3x300 = 900

横向：4x300 = 1200

#### 例题3

![image-20250416204538451](https://img.yatjay.top/md/20250416204538498.png)

解析：

- 图片分辨率为1024\*768，即表示有1024\*768个像素点。
- 24位位图，表示每个像素占24bit.
- 总体数据是：1024\*768\*24=18874368（bit）
- 再除以8转换为byte（8bit=1byte)=2359296(byte)。
- 又因为1024byte=1KB，再除以1024等于2304KB，如果再除以1024就是2.25MB。