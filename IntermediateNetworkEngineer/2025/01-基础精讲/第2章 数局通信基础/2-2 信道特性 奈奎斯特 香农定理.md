## 2-2 信道特性 奈奎斯特 香农定理

本节重点在于2个公式，即香农定理和奈奎斯特定理

###  数据通信的基本概念(考查较少)

通信的目的就是**传递信息**。

通信中产生和发送信息的一端叫信源，接收信息的一端叫信宿，信源和信宿之间的通信线路称为信道。

**通信系统模型**，如下图2-1所示

![image-20250217203353234](https://img.yatjay.top/md/20250217203353316.png)

其中，信源可以产生模拟信号或数字信号，信道分为模拟信道和数字信道，噪声即信号传输过程中的干扰

### 信道特性

#### 信道带宽W(常考)

**数字信道带宽**：数字信道是离散信道，带宽为信道能够达到的**最大传输速率**，单位是bit/s

**模拟信道带宽**：模拟信道的带宽为信道能通过的最高频率与最低频率之差，即
$$
W = f_2 - f_1
$$
(f2/f1分别表示信道能通过的最高/最低频率，单位是赫兹Hz)

![image-20230213201830145](https://img.yatjay.top/md/image-20230213201830145.png)

#### 码元和码元速率

> 引述——关于码元
>
> 定义：在使用时间域的波形表示数字信号时，**代表不同离散数值的基本波形称为码元**。
>
> 简单来说，码元就是构成信号的一段波形。
>
> ![image-20230817221915558](https://img.yatjay.top/md/image-20230817221915558.png)
>
> 例如，这是一个调频信号，绿色这一段波形是构成该信号的一个基本波形，我们可称其为码元。它可以表示比特0，当然也可以表示比特1；蓝色这一段波形是构成该信号的另一个基本波形，也称为码元，它可以表示比特一，可见该信号由两种码元构成。

- **数据传输速率(比特率)**：指每秒钟能够传输的二进制数据位数，单位为比特/秒(bit/s、b/s、bps)，比特率反映了数据传输的真实速度

- **码元**：一个数字脉冲称为一个码元(可以理解为一个时钟周期的信号称为一个码元)

- **码元宽度(T)**：一个码元的时钟周期(T)称为码元宽度 [频率的单位Hz意为 次/秒，周期的单位即为 秒/次]

- **码元速率(B)**：单位时间内信道传送码元的个数。如码元宽度为T，则**码元速率(也称波特率)**，**其单位是波特Baud即 (个码元/s) **，类似频率的概念

$$
B =  \frac{1}{T}
$$

- 一个码元(一个包裹)携带的信息量n(位)与码元种类数(N)的关系是，码元种类数取决于调制技术

$$
n = log_2N
$$

如下表所示，能够说明码元种类数与携带信息量的关系

| 码元种类数(N) | 码元种类详细                                      | 携带信息量(每个码元能携带几位数据)(n) |
| ------------- | ------------------------------------------------- | ------------------------------------- |
| 2             | 0、1共计2类码元                                   | 1(即每个码元携带1位信息)              |
| 4             | 00、01、10、11共计4类码元                         | 2(即每个码元携带2位信息)              |
| 8             | 000、001、010、011、100、101、110、111共计8类码元 | 3(即每个码元携带3位信息)              |

- <font color=red>**数据速率和码元速率关系**</font>(比特率和波特率的关系)**：**<font color=red>数据速率 = 码元速率 * 每个码元携带的信息量 = B * n 即</font>
  $$
  R = B * n = B * log_2N
  $$
  

>对于码元的理解：
>
>一个码元就是一个脉冲信号，一个脉冲信号有可能携带1bit数据，也有可能携带2bit数据、4bit数据！你发送一个脉冲信号，如果就可以携带4bit数据，肯定发送速率更快啊！
>
>那么怎么实现一个脉冲信号就能携带多个bit数据呢？就需要一定的技术了，比如设置模拟信号中信号的频率、相位、振幅啥的。举个例子：把振幅分成四种，低（00）、中（01）、高（10）、很高（11），这样我发一个脉冲信号，它的振幅是低，那就说明发送的是00（也就是2bit），它的振幅是中（01），发送的就是01（也就是2bit）……也就实现了一个脉冲信号，携带2bit的功能…（举个不恰当的例子让大家理解而已，明白啥意思就行）
>
>再说一次，一个码元就是一个脉冲信号！波特率指的就是1秒能发送多少个码元，也就是1秒能发送多少个脉冲信号！
>
>一个码元能携带1bit数据，那么比特率 = 波特率！
>
>一个码元能携带2bit数据，那么比特率 = 2倍的波特率！
>
>一个码元能携4bit数据，那么比特率 = 4倍的波特率！
>
>作者：遥遥
>
>链接：https://www.zhihu.com/question/280404107/answer/964379530
>

####  奈奎斯特定理和香农定理(高频考点、背住公式)

##### 奈奎斯特定理

**奈奎斯特定理描述了没有噪声下最大码元速率与信道带宽之间关系**

- **奈奎斯特定理**：在一个理想的(没有噪声环境)的信道中，若信道带宽为W，则最大码元速率为

$$
B_{max }= 2W
$$

其单位仍为波特 (Baud)

- 根据上面公式，容易得出**理想信道极限数据速率**公式为：

$$
R_{max} =B_{max} * n =  B_{max} * log_2N = 2 Wlog_2N
$$

- 理解：每秒传输数据总量 = (码元速率 \* 每个码元携带信息量) = 每秒发送码元个数(B) * 每个码元携带的信息量位数(n) 

- 理解：每秒包裹总重量 = 每秒发送包裹个数 \* 每个包裹重量   

##### 香农定理

**香农定理描述了噪声信道极限速率和信道带宽之间关系**

香农定理：在一个**噪声信道的极限数据速率**和带宽之间的关系

- **极限数据速率公式**为：
  $$
  C = W log_2(1+\frac{S}{N})
  $$
     其中C为噪声信道的极限数据速率，单位为bit/s；W为信道带宽，S/N为信噪比，S为信号平均功率，N为噪声平均功率

- 香农定理公式中，S/N为信噪比(信噪比S/N是一个参数，一般不会分别给出)，一般需要根据分贝dB来求信噪比S/N，我们有**分贝与信噪比的关系**为


$$
dB = 10 log_{10}\frac{S}{N} = 10 lg \frac{S}{N}
$$

  -	那么容易得出**信噪比与分贝的关系**为

$$
\frac{S}{N} =10^ {\frac{dB}{10}}
$$

> 定义：如果ax=N(a>0,且a≠1)，则x叫做以a为底N的对数,记做x=logaN，其中a要写于log右下。其中a叫做对数的底，N叫做真数 。

###### 例题1

例题：若一个信道，带宽为20Mb/s，信噪比为1，则极限速率为多少？

解答：极限速率根据香农定理：C = W log<sub>2</sub>(1+S/N) = 20Mb/s  \* log<sub>2</sub>(1+1) = 20Mb/s

###### 例题2

例题：若一个信道，带宽为20Mb/s，信噪比为**30dB**，则信噪比S/N为多少？极限速率为多少？

解答：

根据分贝与信噪比的关系为：dB = 10 log<sub>10</sub>S/N 

则30 =10 log<sub>10</sub>S/N 故 S/N = 10<sup>3</sup> = 1000(这是求真数部分)，即信噪比为1000

根据极限速率公式

C = W log<sub>2</sub>(1+S/N) = 20Mb/s  \* log<sub>2</sub>(1+1000) = 20Mb/s  \* log<sub>2</sub>(1001) ≈ 20Mb/s  \* log<sub>2</sub>(1024) = 20 \* 10 = 200Mb/s

#### 带宽/码元速率/数据速率的关系梳理

![image-20250219193442086](https://img.yatjay.top/md/20250219193442148.png)

注意：调制技术影响码元种类数N，如

- 4ASK即是说N = 4
- 2PSK即是说N = 2

### 误码率

定义：误码率表示传输**出错的码元数**占**传输总码元数**的比例，误码率越小，通信可靠性越高。误码率是衡量数据通信系统在正常工作情况下**传输可靠性**的指标。
$$
P_e=\frac{N_e}{N}
$$


其中N<sub>e</sub>表示出错数，N表示传送总数

计算机通信网络中，**误码率一般要求低于10<sup>-6</sup>**，即平均每传输一百万位才允许错一位

### 例题

#### 例题1

![image-20250219194320760](https://img.yatjay.top/md/20250219194320811.png)

解析：

- QPSK调制，可知其码元种类数N=4
- 已知信道频率范围，可知其信道带宽W=6Mhz
- 未提及噪声问题，根据奈奎斯特定理可得理想信道极限速率为R=2Wlog<sub>2</sub>N=12 x 2 =24Mbit/s

#### 例题2

![image-20250219194650602](https://img.yatjay.top/md/20250219194650654.png)

解析：

- 码元速率即波特率B = 1000Baud
- 未提及噪声问题，则最大数据速率意指理想信道极限数据速率R<sub>max</sub>=B*n=2000bit/s，可得每个码元携带信息位数n=2
- 根据码元种类数于每个码元携带信息位数之间关系可知，N=2<sup>2</sup>=4，只有QPSK符合N=4

#### 例题3

![image-20250219195421399](https://img.yatjay.top/md/20250219195421450.png)

解析：

- 4幅度8相位调制最大可以组成32种码元，即N=32
- 码元速率B=1/码元宽度=1/10us=10<sup>5</sup>Baud，即B=10<sup>5</sup>Baud(<font color="red">注意这里是码元速率B，不是信道带宽W</font>)
- 数据速率R=2Wlog<sub>2</sub>N=10<sup>5</sup>x5=500kbit/s

#### 例题4

![image-20250219195439402](https://img.yatjay.top/md/20250219195439455.png)

解析：

- 电话信道为模拟信道：$W = f_2-f_1 = 4kHz$

- 已知信噪比，根据香农定理可求得噪声信道极限数据速率为C=W*log<sub>2</sub> (1+S/N)=30

- 求几个信号状态即求码元种类数N，**至少需要的信号状态(边界条件)即假设为理想信道没有噪声**
- **即令极限数据速率R = C即R = 2W * log<sub>2</sub>N = 40kb/s解得N = 32**

#### 例题5

![image-20250219195451908](https://img.yatjay.top/md/20250219195451962.png)

解析：

- 在异步传输当中，数据传输是以字符为单位。根据题设条件，每个字符包含“1位起始位，7位数据位，2位停止位，1位校验位”即每个字符含11bit，每秒传输200个字符即数据速率为2200bit/s
- 有效数据位占7/11，故有效速率为7/11*2.2kb/s=1.4kb/s
- <font color="red">记住特殊情况不带公式：曼彻斯特编码/差分码彻斯特编码中，码元速率（波特率）等于数据速率的2倍</font>：2*2.2k=4.4kBaud=4400Baud

#### 例题6

![image-20250219195500571](https://img.yatjay.top/md/20250219195500630.png)

解析：

- 题设中在调制方式名称前给出的数字16、64即指N= 16、64
- BPSK的N = 2；QPSK的N = 4

#### 例题7

![image-20250219195525135](https://img.yatjay.top/md/20250219195525186.png)

解析：

- 码元速率（即波特率）为10000码元/秒，即B = 10000Baud
- 采用振幅调制将码元的振幅划分为64个不同等级，即N = 64
- 不涉及噪声，即求理想信道的极限数据速率R = Blog<sub>2</sub>N = 10000 x 6 = 60000 bit/s