# 第6节 Linux服务器配置

## Linux环境下DNS解析时的Resolver和BIND

在Linux中，DNS是由BIND软件来实现的。BIND是一个C/S系统，其中

- **resolver程序负责产生域名信息的查询**，
- 一个称为**named的守护进程负责回答查询**，这个过程称为域名解析。

在Linux环境中，"resolver" 和 "bind" 分别代表两种不同的概念和功能。resolver和bind的主要联系在于它们都涉及DNS解析过程，但它们的角色不同：

| 术语     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| Resolver | 是操作系统层面提供的用于解决域名查询的客户端功能             |
| BIND     | 是提供DNS服务的完整软件套装，不仅包含了服务器端的服务，也可以作为客户端使用，但它的客户端功能相对于系统内置resolver来说更为复杂和全面，常用于复杂的网络环境和DNS架构中 |

> |                                      |                                                              |
> | ------------------------------------ | ------------------------------------------------------------ |
> | Resolver                             | Resolver 是 DNS 客户端的一部分，是操作系统内置的域名解析机制，它负责将主机名转换为对应的IP地址。当用户的应用程序需要查找一个域名的IP地址时，resolver会根据`/etc/resolv.conf`文件中配置的DNS服务器列表，发送DNS查询请求，并接收DNS服务器返回的响应。它是任何计算机系统（包括Linux）中不可或缺的部分，因为它使得应用程序可以通过域名而非直接的IP地址来访问互联网资源。 |
> | BIND (Berkeley Internet Name Domain) | BIND 是一套开源的DNS服务器软件包，由Internet Systems Consortium (ISC)开发和维护，它实现了DNS协议的标准，并能够提供域名解析服务。BIND既可以作为递归解析器（类似于系统内置的resolver，接受客户端的查询请求并向上游DNS服务器查询直至得到最终答案），也可以作为权威DNS服务器（即存储并回应特定域名区域记录的服务器）。在Linux系统中，如果你需要搭建一台DNS服务器供内部网络或其他网络使用，你可能会安装和配置BIND服务。 |



## DHCP相关配置文件

Linux基本配置文件的名字和路径通常就在`/etc`之下，DHCP服务器的配置文件为是`/etc/dhcpd.conf`

Linux系统中，dhcpd的配置文件是`/etc/dhcpd.conf`文件。此配置文件包括两个部分：全局参数配置和局部参数配置。

全局参数配置的内容对整个DHCP服务器起作用，如组织的域名、DNS服务器的地址等；

局部参数配置只针对相应的子网段或主机等局部对象起作用。所有配置的格式通常都包括三部分：parameters、declarations、option。

另外相关的辅助配置文件`/lib/dhcpd.leases`用于记录所有已经分配出去的IP地址信息。

```bash
subnet 192.168.1.0 netmask255.255.255.0{
range 192.168.1.10 192.168.1.200;
default-lease-time 7200;   //指定默认租约时间的长度，单位是秒，这里租约时间为2小时，共7200秒
max-lease-time 14400;
option subnet-mask 255.255.255.0;   //设置子网掩码
option routers 192.168.1.1;   //设置默认网关地址
option domain-name "myuniversity.edu.cn";
option broadcast-address 192.168.1.255;   //配置广播地址
option domain-name-servers 218.30.19.20,61.134.1.4;   //配置DNS域名服务器地址
}
```

## FTP配置文件

Linux基本配置文件的名字和路径通常就在`/etc`之下，FTP服务器的主配置文件为是`/etc/vsftpd/vsftpd.conf`

## Web配置文件

Linux中的web服务进程是httpd，其主配置文件是`/etc/httpd.conf`，可以通过修改`/etc/httpd.conf`来更改默认端口号。

在Linux系统中，Apache的默认web根目录是`/var/www/html`

> 在Linux系统中，`httpd` 通常指的是 **Apache HTTP Server 的主程序**，它是广泛使用的开源Web服务器软件。当我们在Linux环境下提及Web服务进程时，如果采用的是Apache HTTP Server，则运行Web服务的进程名称就是 `httpd`。这个进程监听指定的网络端口（默认是TCP端口80），处理HTTP请求，并向客户端（如Web浏览器）提供网页和其他Web资源。
>
> Apache HTTP Server 在Linux系统中可以通过服务管理器（如System V init、systemd等）启动和管理，也可以通过命令行工具如 `apachectl` 或直接运行 `httpd` 可执行文件来启动和控制服务。在生产环境中，管理员会配置Apache以满足各种安全和性能需求，包括但不限于虚拟主机、SSL加密、访问控制和日志记录等。

## Linux重要目录及其功能

| 目录路径   | 功能描述                                                     |
| ---------- | ------------------------------------------------------------ |
| `/bin`     | 存储基本的用户命令，这些命令对于所有用户都是必需的，并且可以在单用户模式或无网络环境下调用。 |
| `/usr/bin` | 存储额外的用户命令和应用程序，同样供所有用户使用，通常包含较高级或不常用的命令工具。 |
| `/etc`     | 包含系统全局的配置文件，这些文件用于设置系统服务、应用程序以及系统本身的各种参数和行为。 |
| `/dev`     | 包含所有硬件设备的特殊文件，Linux通过把设备抽象为文件来简化设备管理和操作。 |
| `/proc`    | 虚拟文件系统，反映系统运行时的**内核和进程状态信息**，不占用磁盘空间，提供了查看和修改系统运行时参数的接口。 |