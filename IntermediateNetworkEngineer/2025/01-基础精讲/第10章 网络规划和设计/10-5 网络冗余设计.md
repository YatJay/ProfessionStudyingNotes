## 10-5 网络冗余设计

### 网络余设计－备用路径(一主一备)

通信线路冗余设计中，常见的设计目标：

1. <font color="red">备用路径</font>
2. <font color="red">负载分担</font>

一般情况下，备用路径<font color="red">仅仅在主路径失效时投入使用</font>。

备用路径设计时主要考虑：

1. 备用路径的带宽：一般比主路径低，非对称，两边一样太浪费
2. 切换时间：主路径故障后多久切换至备用路径
3. 非对称
4. 自动切换
5. 测试

### 网络冗余设计－负载分担(多条链路同时传输)

负载分担通过冗余的形式来<font color="red">提高网络的性能</font>，是对备用路径方式的扩充。负载分担通过并行链路提供流量分担来提高性能，其主要的实现方法是利用两个或多个网络接口和路径来<font color="red">同时传递流量</font>

关于负载分担，在设计时主要考虑以下因素：

1. 当网络中存在备用路径、备用链路时，可以考虑加入负载分担设计。(主备利用率低，可以使用负载分担提高利用率)
2. 对于主路径、备用路径都相同的情况，可以实施**负载分担的特例——负载均衡**，也就是多条路径上的流量是均衡的。(负载均衡是负载分担的一种特例)
3. 对于主路径、备用路径不相同的情况，可以采用<font color="red">策略路由机制</font>，让一部分应用的流量分摊到备用路径上。(这就是常规的负载分担)
4. 在路由算法的设计上，大多数设备制造厂商实现的<font color="red">路由算法</font>都能够在相同带宽的路径上实现负载均衡，甚至部分特殊的路由算法(例如IGRP和增强IERP)可以根据主路径和备用路径的<font color="red">带宽比例</font>实现负载分担。

### 例题

#### 例题1

![image-20250321230529575](https://img.yatjay.top/md/20250321230529612.png)

解析：

- 备用路径：当主路径正常时并不分担主路径流量，当主路径出现问题时，才使用备用路径。
- D选项：正确。如果改成“网络中存在备用链路时，可以考虑加入**负载均衡**设计”就错了，因为一般情况下主路径和备用路径不对称，只能负载分担，不能负载均衡，只有主备路径相同时才能加入负载均衡

#### 例题2

![image-20250321230540439](https://img.yatjay.top/md/20250321230540477.png)

解析：

- 主备切换应当自动完成
- 备用路径平时不用，无法提高网络性能

- 只有主备链路无法实现负载分担，只有配合VRRP、MSTP等技术才能实现基于不同VLAN分组的负载均衡
- 网络虚拟化中横向虚拟化，比如CSS可以实现网络冗余。
