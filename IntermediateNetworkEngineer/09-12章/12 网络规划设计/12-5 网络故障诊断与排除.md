# 12-5 网络故障诊断与排除

本节只涉及思路，不涉及实际操作

## 问题解决模型

![image-20230315205212142](https://img.yatjay.top/md/image-20230315205212142.png)

## 网络故障排查命令

- `show/display`：思科`show`，华为`display`，监测系统的安装情况与网络的正常运行状况，也可以用于对故障区域的定位。

- `debug`：`debug`可以查看协议和包的详细信息，帮助分离协议和配置问题(debug产生流量较大，为避免影响网络，实际生产环境中不用)

- `ping`：用于检测网络上不同设备之间的连通性

- `tracert`：用于确定数据包在从一个设备到另一个设备直至目的地的过程中所经过的路径

- 网络管理工具都含有监测以及故障排除功能，这有助于对网络互联环境的管理和故障的及时排除。
  - 思科的Cisco Works 
  - 惠普的HP OpenView
  - 华三的IMC
  - 华为的Esight
  - ……

## 专用故障排查工具(加粗为考点)

- 欧姆表、数字万用表及电缆测试器∶利用这些参数可以检测电缆(网线、光纤等)的物理**连通性**。
  - 测试并报告电缆状况，其中包括**近端串音**(这是**网线的一个特有指标**)、信号衰减及噪音

- 时域反射计与光时域反射计

  - 时域反射器(TDR)：能够快速定位**金属线缆**中的短路、断路、阻抗等问题

  - **光时域反射器(OTDR)**：精确测量**光纤**的长度、断裂位置、信号衰减等

- 网络监测器：分析统计网络状态

- 网络分析仪：如“科来”可以分析整个网络的流量

## 层次化故障排查案例

![image-20230315210007218](https://img.yatjay.top/md/image-20230315210007218.png)

某单位网络拓扑如下，网络中断，不能访问OA，怎么排错?

思路：从下到上，物理层到应用层(从上到下也可以)

- 物理层：检测网线连接（网线/水晶头)

- 链路层：网卡驱动/速率协商

- 网络层：IP地址/PC到网关是否通，网关到OA是否通，定故障域，交换机端口能不能UP(使用前面讲的方法)

- 应用层：业务系统是否正常

## 例题

![image-20230315210137683](https://img.yatjay.top/md/image-20230315210137683.png)

解析：

- 最大衰减限值——光纤和网线都有
- 波长窗口参数——光纤指标
- 回波损耗限值——光纤指标
- 近端串扰——这是**网线的一个特有指标**