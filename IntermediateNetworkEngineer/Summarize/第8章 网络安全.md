# 网络安全基础

## 网络安全威胁类型

10种类型的网络安全威胁类型

- 被动攻击
  - 窃听
  - 流量分析
- 主动攻击
  - 假冒：如跨站脚本攻击CSRF
  - 重放：如Burp抓包修改重放。解决时可为数据包加入时间戳
  - 数据完整性破坏：修改或破坏信息系统、数据
  - 拒绝服务攻击：如DDOS、SYN-Flooding等
  - 资源的非授权利用：即越权攻击
  - 陷门和木马：
  - 病毒：
  - 诽谤：利用信息系统互联性，诋毁摸个对象的形象

## 网络攻击

被动攻击：

- 如窃听、流量分析
- 重点是预防
- 主要防范手段是加密

主动攻击：

- 如假冒、重放、欺骗、篡改、完整性破坏、拒绝服务攻击等
- 重点是检测
- 主要防范手段是防火墙、IDS等技术

## 基本安全技术

- 数据加密
- 数字签名
- 身份认证
- 防火墙
- 入侵检测
- 内容检查

# 现代加密技术

## 对称加密算法

| 算法          | 每个分组长度(bit) | 每个分组产生密文长度(bit) | 密钥长度(bit) | 模式       | 备注                                                         |
| ------------- | ----------------- | ------------------------- | ------------- | ---------- | ------------------------------------------------------------ |
| DES           | 64                | 64                        | 56            | 分组密码   | 每一个分组为64位，之后进行16轮迭代，产生一组 64位密文数据    |
| 3DES          | 64                | 64                        | 112           | 分组密码   | 使用2个密钥，累计执行3次DES算法，其中有两次使用的是同一个秘钥 |
| IDEA          | 64                | X                         | 128           | 分组密码   | IDEA共使用52个16位的子密钥，由输入的128位密钥生成。          |
| AES           | 128               | X                         | 128/192/256   | 分组密码   | 支持三种秘钥长度，最小128位，均为32的整数倍                  |
| 流加密算法RC4 | X                 | X                         | X             | 流加密算法 | 加密速度快，可以达到DES 10倍，WiFi常用                       |

## 非对称加密算法

每个实体有两个密钥：公钥公开，私钥自己保存

公钥加密，私钥解密，可实现保密通信

私钥加密，公钥解密，可实现数字签名

典型的公钥加密算法：RSA

# 数字签名

- 数字签名用于确认发送者身份和消息完整性

- 私钥签名，公钥验签

# 报文摘要/哈希/散列

## 哈希

### 哈希简介

哈希：将一段数据(任意长度)经过一道计算，转换为一段**定长**的数据

### 哈希的特性

- 不可逆性
- 无碰撞性：几乎没有可能找到一个y，使得y的Hash值等于x的Hash值
- 雪崩效应

### 哈希适用场景

- 发送文件的完整性确认
- 服务器中存储用户密码

### HMAC简介

HMAC

- 盐+哈希 ，这个盐可以是时间戳
- 需要双方预先知道这个key
- HMAC能够消除中间人攻击(数字签名也能消除)

## 两种报文摘要算法简介

|       | 每个分组长度(bit) | 得到报文摘要长度 | 备注                     |
| ----- | ----------------- | ---------------- | ------------------------ |
| MD5   | 512               | 128              | 无，安全性一般           |
| SHA-1 | 512               | 160              | 比MD5更安全，计算比MD5慢 |

# 数字证书与CA

## 数字证书简介

问：数字签名中使用“私钥签名，公钥验签”，公钥加密(验签)的关键在于**怎么确定这就是Bob的公钥，如何避免他人伪造？**

答：数据通信中，使用**数字证书**证明某个人的公钥确实属于该人，**用CA的私钥为所有者的公钥进行签名**

## 证书链及其表示

如果用户数量很多，通常有多个CA，每个CA为一部分用户发行和签署证书

如果有两个CA，X1和X2，假设用户A从CA机构X1获得了证书，用户B从X2获得证书。

即可如下符号表示：

| 符号    | 含义                                                         |
| ------- | ------------------------------------------------------------ |
| X1《A》 | 1、用X1私钥为A的公钥签名**<br/>**2、该证书封存着A自己的公钥，需要用X1的公钥解密得到**<br/>**3、用户A知道X1(即自己的所属的CA)的公钥 |
| X2《B》 | 1、用X2私钥为B的公钥签名**<br/>**该证书封存着B自己的公钥，需要用X2的公钥解密得到**<br/>**3、用户B知道X2(即自己的所属的CA)的公钥 |

如果A不知X2的公钥，他虽然能读取B的证书，但却无法验证用户B证书中X2的签名，因此B的证书对A来说是没有用处的。然而，如果两个证书发放机构**X1和X2彼此间安全交换了公钥，彼此信任**，那么他们的证书可以形成**证书链**，则A就可以通过以下过程获取B的公开密钥。

(1) A从公共目录中后去由X1签署的X2的证书**X1《X2》**，因为A知道X1的公开密钥，所以能验证X2的证书，并从中**得到X2的公开密钥**；(笔者注：即通过已知的公钥得到X2的公钥)

(2)A再从公共目录中获取由X2签署的B的证书**X2《B》**，并由X2的公开秘钥对此加以验证，然后从中**得到B的公开密钥**(笔者注：即通过X2的公钥得到B自己的公钥)

以上过程中，A是通过一个证书链来获取B的公开密钥的，证书链可表示为
$$
X1《X2》X2《B》
$$
类似的，B也能通过一个证书链来获取A的公开密钥的，证书链可表示为
$$
X2《X1》 X1《A》
$$
以上证书链中只涉及两个证书。同样，有N个证书的证书链可以表示为
$$
X1《X2》X2《X3》……XN《B》
$$

# 虚拟专用网VPN

VPN：概念和实现原理，PPP，LCP和NCP，PAP和CHAP（看课件）

> VPN（Virtual Private Network，虚拟专用网络）是一个通过公共网络（如互联网）建立的安全通信隧道，使得远程用户或者分支机构能够安全地访问组织内部网络资源。它通过一系列技术手段，包括加密、身份验证和隧道技术，模拟了一个专用的、私有的通信环境。VPN的主要实现原理包括以下几个关键部分：
>
> 1. **隧道技术**：VPN通过隧道技术在公网上传输私有网络的数据包，即将一个网络的数据包封装在另一个网络的数据包中传输，这样即使数据在公网上传播也能保证数据的私密性和完整性。
>
> 2. **加密技术**：数据在经过VPN隧道时会被加密，常见的加密协议有SSL/TLS、IPsec等，以防止未经授权的第三方窃听和篡改。
>
> 3. **身份验证和授权**：用户和设备必须经过身份验证才能接入VPN，这通常涉及预共享密钥、证书或其他形式的身份验证机制。
>
> 关于PPP（Point-to-Point Protocol，点对点协议）：
>
> PPP 是一种广泛应用于点对点连接的网络层协议，特别是在拨号网络和VPN中。PPP 主要负责在两台设备之间建立、配置、维护和终止数据链路连接。
>
> - **LCP（Link Control Protocol，链路控制协议）**：LCP 是 PPP 协议的一个组成部分，用于建立、配置、测试和终止物理链路。它处理诸如协商最大传输单元（MTU）、认证方法以及检测链路故障等问题。
>
> - **NCP（Network Control Protocol，网络控制协议）**：NCP 是多个子协议的集合，每个子协议负责在已经由 LCP 建立和配置好的链路上建立和配置不同的网络层协议，如IPCP（Internet Protocol Control Protocol）用于配置和管理IP地址等参数。
>
> 另外，PPP 还支持多种认证协议以确保连接安全性：
>
> - **PAP（Password Authentication Protocol，密码认证协议）**：简单明了的认证方式，明文发送用户名和密码进行验证，安全性相对较低。
>
> - **CHAP（Challenge Handshake Authentication Protocol，挑战握手认证协议）**：比PAP更为安全，采用三次握手方式，服务器端向客户端发送随机数挑战，客户端用共享密钥加密这个随机数后再发送回去，服务器端解密验证。整个过程不需要直接传递密码，提高了安全性。
>
> 总结起来，PPP及其相关协议是构建VPN连接的基础组件之一，通过LCP和NCP分别管理和配置链路层及网络层参数，并通过PAP或CHAP等认证协议保证连接的安全性。

# IPSec原理



# SSL和HTTPS



# 防火墙技术



# 计算机病毒与防护



# IDS与IPS



# 章节总结