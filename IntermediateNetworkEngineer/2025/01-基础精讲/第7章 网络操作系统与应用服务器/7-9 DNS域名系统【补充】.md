## 7-9 DNS域名系统

### DNS域名系统

DNS作用：把域名转换成IP地址。

DNS/DHCP服务器必须为<font color="red">静态IP地址</font>，而Web/FTP均可为动态IP。

Linux系统中提供DNS服务的组件为<font color="red">bind</font>，主配置文件为<font color="red">named.conf</font>

诊断域名系统基础结构的信息和查看DNS服务器的IP地址命令是：<font color="red">nslookup</font>

### DNS记录类型

| 记录类型      | 说明                                                         | 备注                                              |
| ------------- | ------------------------------------------------------------ | ------------------------------------------------- |
| SOA           | SOA叫起始授权机构记录，SOA记录用于在众多NS记录中哪一台是主服务器 | SOA记录还设置一些数据版本和更新以及过期时间的信息 |
| A             | 把主机名解析为IP地址                                         | www.test.com → 1.1.1.1                            |
| 指针 PTR      | 反向查询，把IP地址解析为主机名                               | 1.1.1.1 → www.test.com                            |
| 名字服务器 NS | 为一个域指定授权域名服务器，该域的所有子域也被委派给这个服务器 | 比如某个区域由ns1.domain.com进行解析              |
| 邮件服务器 MX | 指明区域的邮件服务器及优先级                                 | 建立电子邮箱服务，需要MX记录将指向邮件服务器地址  |
| 别名 CNAME    | 指定主机名的别名<br>把主机名解析为另一个主机名               | www.test.com别名为webserver12.test.com            |

### DNS查询

#### DNS查询过程

![image-20250312192256255](https://img.yatjay.top/md/20250312192256296.png)

递归查询：：域名服务器帮助用户进行名字解析，并返回最后的结果。【老好人】

迭代查询：域名服务器进行迭代访问，反复多次，直到最后找到结果。【踢皮球】

![image-20250312192341255](https://img.yatjay.top/md/20250312192341301.png)

### 例题

#### 例题1

![image-20250312192359203](https://img.yatjay.top/md/20250312192359244.png)

#### 例题2

![image-20250312192424770](https://img.yatjay.top/md/20250312192424808.png)

#### 例题3

![image-20250312192507988](https://img.yatjay.top/md/20250312192508029.png)



#### 例题4

![image-20250312192516058](https://img.yatjay.top/md/20250312192516096.png)





#### 例题5

![image-20250312192529638](https://img.yatjay.top/md/20250312192529693.png)



